<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Uploads: Folder and File Specs - Newspaper Curation App</title>
<meta name="description" content="Detailed specifications for uploaded issues&#39; files">
<meta name="generator" content="Hugo 0.147.5">
<link rel="canonical" href="https://uoregon-libraries.github.io/newspaper-curation-app/specs/upload-specs/">
<link rel="stylesheet" href="https://uoregon-libraries.github.io/newspaper-curation-app/css/theme.css">
<link rel="stylesheet" href="https://uoregon-libraries.github.io/newspaper-curation-app/css/chroma.css">
<link rel="stylesheet" href="https://uoregon-libraries.github.io/newspaper-curation-app/css/treeview-navigation.css">
<script src="https://uoregon-libraries.github.io/newspaper-curation-app/js/headerlink.js"></script>
<script src="https://uoregon-libraries.github.io/newspaper-curation-app/js/treeview-navigation.js"></script><meta property="og:url" content="https://uoregon-libraries.github.io/newspaper-curation-app/specs/upload-specs/">
  <meta property="og:site_name" content="Newspaper Curation App">
  <meta property="og:title" content="Uploads: Folder and File Specs">
  <meta property="og:description" content="Detailed specifications for uploaded issues&#39; files">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="specs">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Uploads: Folder and File Specs">
  <meta name="twitter:description" content="Detailed specifications for uploaded issues&#39; files">

  <meta itemprop="name" content="Uploads: Folder and File Specs">
  <meta itemprop="description" content="Detailed specifications for uploaded issues&#39; files">
  <meta itemprop="wordCount" content="457"></head>
<body>
  <div class="container"><div class="skip"><a href="#maincontent">Skip to main content</a></div>
<header>
<h1>Newspaper Curation App</h1><a href="https://github.com/uoregon-libraries/newspaper-curation-app/" class="github"><img src="https://uoregon-libraries.github.io/newspaper-curation-app/images/github-mark-white.svg" alt="NCA on Github"></a>
</header>
<div class="content-container"><div class="sidebar">
  
  <nav aria-labelledby="table-of-contents">
    <h2 id="table-of-contents" class="sr-only">Table Of Contents</h2>
    <ul class="treeview-navigation" role="tree" aria-label="Contents">
      <li role="none">
        <a role="treeitem"  href="https://uoregon-libraries.github.io/newspaper-curation-app/">
          <span class="label">Home</span>
        </a>
      </li><li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/setup/"
        aria-owns="subtree--newspaper-curation-app-setup-"
          aria-expanded="false">
        <span class="label"><span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" viewBox="0 0 24 24">
              <polygon points="2,3 22,11 2,20"></polygon>
            </svg>
          </span>Setup and Installation
        </span>
      </a><ul role="group" aria-label="Setup and Installation" id="subtree--newspaper-curation-app-setup-"><li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/setup/services/"
        >
        <span class="label">Services and Apps
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/setup/server-setup/"
        >
        <span class="label">Server Setup
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/setup/installation/"
        >
        <span class="label">Installation
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/setup/user-setup/"
        >
        <span class="label">Users
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/setup/creating-publishers/"
        >
        <span class="label">Onboarding A Publisher
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/setup/sftpgo-integration/"
        >
        <span class="label">SFTPGo Integration
        </span>
      </a></li>
  </ul></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/specs/"
        aria-owns="subtree--newspaper-curation-app-specs-"
          aria-expanded="true">
        <span class="label"><span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" viewBox="0 0 24 24">
              <polygon points="2,3 22,11 2,20"></polygon>
            </svg>
          </span>NCA Terms, Specs, and Information
        </span>
      </a><ul role="group" aria-label="NCA Terms, Specs, and Information" id="subtree--newspaper-curation-app-specs-"><li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/specs/glossary/"
        >
        <span class="label">Glossary
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/specs/upload-specs/"
        aria-current="page"
        >
        <span class="label">Uploads: Folder and File Specs
        </span>
      </a></li>
  </ul></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/workflow/"
        aria-owns="subtree--newspaper-curation-app-workflow-"
          aria-expanded="false">
        <span class="label"><span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" viewBox="0 0 24 24">
              <polygon points="2,3 22,11 2,20"></polygon>
            </svg>
          </span>Workflow
        </span>
      </a><ul role="group" aria-label="Workflow" id="subtree--newspaper-curation-app-workflow-"><li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/workflow/technical/"
        >
        <span class="label">Technical Details
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/workflow/adding-titles/"
        >
        <span class="label">Adding Titles
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/workflow/handling-page-review-problems/"
        >
        <span class="label">Handling Page Review Problems
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/workflow/fixing-stuck-issues/"
        >
        <span class="label">Fixing &#34;Stuck&#34; Issues
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/workflow/fixing-flagged-workflow-issues/"
        >
        <span class="label">Fixing Flagged Workflow Issues
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/workflow/fixing-live-batches/"
        >
        <span class="label">Replacing Live Issues
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/workflow/undo-batch-golive/"
        >
        <span class="label">&#34;Un-push&#34; Batch From Production
        </span>
      </a></li>
  </ul></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/contributing/"
        aria-owns="subtree--newspaper-curation-app-contributing-"
          aria-expanded="false">
        <span class="label"><span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" viewBox="0 0 24 24">
              <polygon points="2,3 22,11 2,20"></polygon>
            </svg>
          </span>Contributing
        </span>
      </a><ul role="group" aria-label="Contributing" id="subtree--newspaper-curation-app-contributing-"><li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/contributing/dev-guide/"
        >
        <span class="label">Developer&#39;s Guide
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/contributing/not-compiling-locally/"
        >
        <span class="label">Not Compiling Locally
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/contributing/documentation/"
        >
        <span class="label">Contributing to Documentation
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/contributing/testing/"
        >
        <span class="label">Testing
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/contributing/dev-howto/"
        aria-owns="subtree--newspaper-curation-app-contributing-dev-howto-"
          aria-expanded="false">
        <span class="label"><span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" viewBox="0 0 24 24">
              <polygon points="2,3 22,11 2,20"></polygon>
            </svg>
          </span>How do I...?
        </span>
      </a><ul role="group" aria-label="How do I...?" id="subtree--newspaper-curation-app-contributing-dev-howto-"><li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/contributing/dev-howto/add-job-types/"
        >
        <span class="label">Add Job Types
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/contributing/dev-howto/add-config-items/"
        >
        <span class="label">Add Configuration Settings
        </span>
      </a></li>
  <li role="none">
      <a
        role="treeitem"
        href="https://uoregon-libraries.github.io/newspaper-curation-app/contributing/dev-howto/add-privileges/"
        >
        <span class="label">Add Privileges / Roles
        </span>
      </a></li>
  </ul></li>
  </ul></li>
  </ul>
  </nav>
</div>


<main id="maincontent"><h1>Uploads: Folder and File Specs</h1><h2 id="uploads-folder-and-file-specs">Uploads: Folder and File Specs</h2>
<p>Publishers (or in-house scanners) who upload issues must adhere to very strict
structures for issue organization.</p>
<h3 id="born-digital-pdfs-uploaded-via-sftp">Born-Digital (PDFs uploaded via SFTP)</h3>
<p>The folder structure tells us the newspaper title and issue date. e.g.,
<code>/mnt/news/sftp/sftpuser/2018-01-02</code> would mean the January 2nd, 2018 edition
of title whose SFTP login is &ldquo;sftpuser&rdquo;.</p>
<p>The issue should contain PDFs and nothing else. Publishers should never upload
tertiary files. Ideally, publishers should upload one PDF for the entire
issue, with pages in the order they wish to see on the ONI site, as that
reduces (or eliminates) the need to have anybody reviewing these issues&rsquo; pages.</p>
<p>Some publishers may be unable (or unwilling) to comply with the aforementioned
folder structure. It may be necessary to build a custom pre-processor that
takes uploaded files and restructures them for the application. In some cases,
there may even need to be human intervention to determine the right issue
folder name.</p>
<p><strong>Note</strong>: Currently NCA puts all born-digital issues into a single MARC Org
Code when generating batches (determined by the <code>PDF_BATCH_MARC_ORG_CODE</code>
setting), and doesn&rsquo;t support having multiple editions of a single date.</p>
<h3 id="scans-tiffs-with-ocred-pdfs">Scans (TIFFs with OCRed PDFs)</h3>
<p>Scanned issues must be copied directly to the location NCA sees in the
configured <code>SCAN_UPLOAD_PATH</code>. This is currently <em>not</em> done with the same SFTP
process used for publisher uploads.</p>
<p>The folder structure tells us the same information as with born-digital
uploads with a few exceptions:</p>
<ul>
<li>The LCCN is used instead of an SFTP username</li>
<li>The Awardee (MARC Org Code) is determined from the directory name right after
the scan base path</li>
<li>Issues can have multiple editions by adding <code>_dd</code> to the issue folder name</li>
</ul>
<p>e.g., <code>/mnt/news/scans/oru/sn12345678/2018-01-02</code> would be the January 2nd,
2018 issue of title <code>sn12345678</code>, and would be assigned the <code>oru</code> awardee when
batched. <code>/mnt/news/scans/oru/sn12345678/2018-01-02_03</code> would designate the
third edition of the same issue.</p>
<p>These issues should contain one TIFF per page and one PDF per page. The PDF
should contain the TIFF&rsquo;s image with OCR information as an application like
Abbyy produces.</p>
<p>Rules:</p>
<ul>
<li>Files should be named numerically using four digits, e.g., <code>0001.tif</code> /
<code>0001.pdf</code></li>
<li>Each TIFF must have a corresponding PDF with the same base name. If
<code>0001.tif</code> is present, but <code>0001.pdf</code> is not, or vice-versa, NCA will not be
able to process the issue.</li>
<li>Files must be ordered the way they are to appear on the production ONI site,
as there is no manual reorder step for scanned issues. NCA will attempt to
guess at the order of pages not named numerically, but four-digit names are
the best option.</li>
</ul>
<p>To conform closely to the NDNP spec, the TIFF files should be at least 300dpi
and the PDFs should contain a 150dpi JPEG image encoded at about a quality of
40 (or &ldquo;medium&rdquo;).</p>
<nav class="pagination" aria-label="Pagination">

  <a class="nav nav-prev" href="https://uoregon-libraries.github.io/newspaper-curation-app/specs/glossary/">← Prev - Glossary</a>

  <a class="nav nav-next" href="https://uoregon-libraries.github.io/newspaper-curation-app/workflow/">Next - Workflow →</a></nav>
<footer><p class="powered">Powered by <a href="https://gohugo.io">Hugo</a>.
</footer>
      </main>
    </div>

  </div>
</body>
</html>
